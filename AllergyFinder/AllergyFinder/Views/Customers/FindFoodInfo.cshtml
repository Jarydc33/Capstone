@model AllergyFinder.Models.FindFoodInfoViewModel
@{
    ViewBag.Title = "FindFoodInfo";
}

<h2>FindFoodInfo</h2>
<div>
    <h4>Customer</h4>
    <hr />
    <dl class="dl-horizontal">
        
        @{ 
            List<string> allergenOfConcern = new List<string>();
            foreach(var allergen in Model.userAllergies)
            {
                foreach(var foodAllergen in Model.allergens)
                {
                    if(allergen.KnownAllergies == foodAllergen)
                    {
                        allergenOfConcern.Add(foodAllergen);
                        <h4 style="color:red">WARNING: This food contains @foodAllergen which you have listed as a known allergy.</h4>
                    }
                }
            }
        }

        <dt>
            @Html.DisplayName("Allergens found in this item")
        </dt>

        @foreach (var allergen in Model.allergens)
        {
            <dt>
                @Html.DisplayFor(model => allergen)
            </dt>
        }


    </dl>
</div>
<p>|
    @Html.ActionLink("Back to List", "Index")
</p>
